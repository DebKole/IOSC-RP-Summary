<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Summary Result - Research Paper Summarizer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-file-alt"></i> Research Paper Summarizer</h1>
            <p>AI-generated summary of your research paper</p>
        </header>

        <main>
            <div class="result-container">
                <div class="result-header">
                    <h2><i class="fas fa-file-pdf"></i> {{ filename }}</h2>
                    <a href="{{ url_for('index') }}" class="back-btn">
                        <i class="fas fa-arrow-left"></i> Upload another PDF
                    </a>
                </div>
                
                <div class="summary-box">
                    <h3><i class="fas fa-lightbulb"></i> Summary</h3>
                    <div class="summary-content">
                        {{ summary }}
                    </div>
                    <button id="copy-btn" class="copy-btn">
                        <i class="fas fa-copy"></i> Copy Summary
                    </button>
                </div>
                
                <!-- Extracted Images Section -->
                {% if images|length > 0 %}
                <div class="section-divider"></div>
                <div class="images-section">
                    <h3><i class="fas fa-image"></i> Figures & Diagrams</h3>
                    <div class="images-container">
                        {% for image in images %}
                        <div class="image-card">
                            <img src="{{ image.url }}" alt="{{ image.caption }}">
                            <p class="image-caption">{{ image.caption }}</p>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
                
                <!-- Extracted Tables Section -->
                {% if tables|length > 0 %}
                <div class="section-divider"></div>
                <div class="tables-section">
                    <h3><i class="fas fa-table"></i> Tables</h3>
                    <div class="tables-container">
                        {% for table in tables %}
                        <div class="table-card">
                            <h4 class="table-caption">{{ table.caption }}</h4>
                            <div class="table-wrapper">
                                {{ table.html|safe }}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endif %}
            </div>
            
            {% with messages = get_flashed_messages() %}
              {% if messages %}
                <div class="alert">
                  {% for message in messages %}
                    <p><i class="fas fa-exclamation-circle"></i> {{ message }}</p>
                  {% endfor %}
                </div>
              {% endif %}
            {% endwith %}
        </main>

        <footer>
            <p>Powered by BART-CNN Summarization Model</p>
        </footer>
    </div>

    <script>
        // Copy summary to clipboard
        document.getElementById('copy-btn').addEventListener('click', function() {
            const summaryText = document.querySelector('.summary-content').textContent;
            navigator.clipboard.writeText(summaryText).then(function() {
                const originalText = document.getElementById('copy-btn').innerHTML;
                document.getElementById('copy-btn').innerHTML = '<i class="fas fa-check"></i> Copied!';
                setTimeout(function() {
                    document.getElementById('copy-btn').innerHTML = originalText;
                }, 2000);
            }).catch(function(err) {
                console.error('Could not copy text: ', err);
            });
        });
    </script>
</body>
</html> 